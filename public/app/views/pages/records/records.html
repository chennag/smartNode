<div class="alert alert-info alert-dismissible" role="alert" dismiss-on-timeout="1000" ng-if="record.show">
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>
    <p class="text-center">{{record.message}}</p>
</div>
<div class="page-header">
    <h3>
       Records
       <a href="/records/create" class="btn btn-default">
            <span class="glyphicon glyphicon-plus"></span> 
            New Record
        </a>
    </h3>
</div>
<div class="jumbotron text-center" ng-show="record.processing">
    <span class="glyphicon glyphicon-repeat spinner"></span>
    <p>Loading Records...</p>
</div>
<table class="table table-striped table-hover">
    <thead>
        <tr>
            <th class="hideid">_id</th>
            <th>SAN no</th>
            <th>Vessel Code</th>
            <th>Vessel Name</th>
            <th>Doc Num</th>
            <th>Doc Date </th>
            <th>Status</th>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat="rec in record.records">
            <td class="hideid">{{ rec._id }}</td>
            <td><a ng-href="/records/{{ rec._id }}">{{ rec.sanno }}<a/> </td>
                <td>{{ rec.vessel_code }}</td>
                <td>{{ rec.vessel_name }}</td>
                <td>{{ rec.docnum }}</td>
                <td>{{ rec.doc_date | date:'dd-MM-yyyy'}}</td>
                <td>
                    <select id="status_id" ng-options="state.code as state.name for state in record.states" ng-model="state" ng-init="state = rec.status">
                    </select>
                </td>
                <td ng-if="rec.status == 'Requested'" ng-hide="record.message">
                    <a href="#" ng-click="record.updateRecord(rec._id,state)" class="btn btn-default">Approve</a>
            </td>
        </tr>
    </tbody>
</table>
